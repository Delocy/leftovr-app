{"ast":null,"code":"import React,{useState}from'react';import{Container,Paper,Box,Typography,TextField,Button,Grid,Card,CardContent,CardActions,Chip,CircularProgress,Link}from'@mui/material';import SearchIcon from'@mui/icons-material/Search';import OpenInNewIcon from'@mui/icons-material/OpenInNew';import{searchRecipes}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecipeSearch=()=>{const[query,setQuery]=useState('');const[recipes,setRecipes]=useState([]);const[loading,setLoading]=useState(false);const[searched,setSearched]=useState(false);const handleSearch=async()=>{if(!query.trim())return;setLoading(true);setSearched(true);try{const response=await searchRecipes(query);setRecipes(response.recipes||[]);}catch(error){console.error('Search failed:',error);setRecipes([]);}finally{setLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:4},children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Recipe Search\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:\"Search for recipes based on ingredients, cuisine, or dietary preferences\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,mt:3},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,placeholder:\"e.g., chicken pasta, vegan dessert, gluten-free...\",value:query,onChange:e=>setQuery(e.target.value),onKeyPress:handleKeyPress,variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(SearchIcon,{}),onClick:handleSearch,disabled:loading||!query.trim(),sx:{minWidth:120},children:\"Search\"})]})]}),loading&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',py:8},children:/*#__PURE__*/_jsx(CircularProgress,{})}),!loading&&searched&&recipes.length===0&&/*#__PURE__*/_jsx(Paper,{elevation:2,sx:{p:4,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"No recipes found. Try a different search term.\"})}),!loading&&recipes.length>0&&/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:recipes.map((recipe,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Card,{elevation:2,sx:{height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h2\",gutterBottom:true,children:recipe.title}),recipe.match_percentage&&/*#__PURE__*/_jsx(Chip,{label:\"\".concat(recipe.match_percentage,\"% match\"),color:\"primary\",size:\"small\",sx:{mb:1}}),recipe.source&&/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",display:\"block\",gutterBottom:true,children:[\"Source: \",recipe.source]}),recipe.recommendation_reason&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:[\"\\uD83D\\uDCA1 \",recipe.recommendation_reason]}),recipe.ner&&recipe.ner.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",display:\"block\",gutterBottom:true,children:\"Key Ingredients:\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:0.5},children:[recipe.ner.slice(0,5).map((ingredient,idx)=>/*#__PURE__*/_jsx(Chip,{label:ingredient,size:\"small\",variant:\"outlined\"},idx)),recipe.ner.length>5&&/*#__PURE__*/_jsx(Chip,{label:\"+\".concat(recipe.ner.length-5,\" more\"),size:\"small\",variant:\"outlined\"})]})]})]}),/*#__PURE__*/_jsx(CardActions,{children:recipe.link&&/*#__PURE__*/_jsx(Button,{size:\"small\",endIcon:/*#__PURE__*/_jsx(OpenInNewIcon,{}),component:Link,href:recipe.link.startsWith('http')?recipe.link:\"https://\".concat(recipe.link),target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Recipe\"})})]})},index))})]});};export default RecipeSearch;","map":{"version":3,"names":["React","useState","Container","Paper","Box","Typography","TextField","Button","Grid","Card","CardContent","CardActions","Chip","CircularProgress","Link","SearchIcon","OpenInNewIcon","searchRecipes","jsx","_jsx","jsxs","_jsxs","RecipeSearch","query","setQuery","recipes","setRecipes","loading","setLoading","searched","setSearched","handleSearch","trim","response","error","console","handleKeyPress","e","key","maxWidth","sx","py","children","elevation","p","mb","variant","component","gutterBottom","color","paragraph","display","gap","mt","fullWidth","placeholder","value","onChange","target","onKeyPress","startIcon","onClick","disabled","minWidth","justifyContent","length","textAlign","container","spacing","map","recipe","index","item","xs","sm","md","height","flexDirection","flexGrow","title","match_percentage","label","concat","size","source","recommendation_reason","ner","flexWrap","slice","ingredient","idx","link","endIcon","href","startsWith","rel"],"sources":["/Users/SG4111/Desktop/me/leftovr-app/frontend/src/pages/RecipeSearch.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Container,\n  Paper,\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Chip,\n  CircularProgress,\n  Link,\n} from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\nimport { searchRecipes } from '../services/api';\n\nconst RecipeSearch = () => {\n  const [query, setQuery] = useState('');\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searched, setSearched] = useState(false);\n\n  const handleSearch = async () => {\n    if (!query.trim()) return;\n\n    setLoading(true);\n    setSearched(true);\n    try {\n      const response = await searchRecipes(query);\n      setRecipes(response.recipes || []);\n    } catch (error) {\n      console.error('Search failed:', error);\n      setRecipes([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      <Paper elevation={3} sx={{ p: 3, mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Recipe Search\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n          Search for recipes based on ingredients, cuisine, or dietary preferences\n        </Typography>\n\n        <Box sx={{ display: 'flex', gap: 2, mt: 3 }}>\n          <TextField\n            fullWidth\n            placeholder=\"e.g., chicken pasta, vegan dessert, gluten-free...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onKeyPress={handleKeyPress}\n            variant=\"outlined\"\n          />\n          <Button\n            variant=\"contained\"\n            startIcon={<SearchIcon />}\n            onClick={handleSearch}\n            disabled={loading || !query.trim()}\n            sx={{ minWidth: 120 }}\n          >\n            Search\n          </Button>\n        </Box>\n      </Paper>\n\n      {loading && (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 8 }}>\n          <CircularProgress />\n        </Box>\n      )}\n\n      {!loading && searched && recipes.length === 0 && (\n        <Paper elevation={2} sx={{ p: 4, textAlign: 'center' }}>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            No recipes found. Try a different search term.\n          </Typography>\n        </Paper>\n      )}\n\n      {!loading && recipes.length > 0 && (\n        <Grid container spacing={3}>\n          {recipes.map((recipe, index) => (\n            <Grid item xs={12} sm={6} md={4} key={index}>\n              <Card elevation={2} sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n                <CardContent sx={{ flexGrow: 1 }}>\n                  <Typography variant=\"h6\" component=\"h2\" gutterBottom>\n                    {recipe.title}\n                  </Typography>\n                  \n                  {recipe.match_percentage && (\n                    <Chip\n                      label={`${recipe.match_percentage}% match`}\n                      color=\"primary\"\n                      size=\"small\"\n                      sx={{ mb: 1 }}\n                    />\n                  )}\n\n                  {recipe.source && (\n                    <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" gutterBottom>\n                      Source: {recipe.source}\n                    </Typography>\n                  )}\n\n                  {recipe.recommendation_reason && (\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                      ðŸ’¡ {recipe.recommendation_reason}\n                    </Typography>\n                  )}\n\n                  {recipe.ner && recipe.ner.length > 0 && (\n                    <Box sx={{ mt: 2 }}>\n                      <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" gutterBottom>\n                        Key Ingredients:\n                      </Typography>\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {recipe.ner.slice(0, 5).map((ingredient, idx) => (\n                          <Chip\n                            key={idx}\n                            label={ingredient}\n                            size=\"small\"\n                            variant=\"outlined\"\n                          />\n                        ))}\n                        {recipe.ner.length > 5 && (\n                          <Chip\n                            label={`+${recipe.ner.length - 5} more`}\n                            size=\"small\"\n                            variant=\"outlined\"\n                          />\n                        )}\n                      </Box>\n                    </Box>\n                  )}\n                </CardContent>\n\n                <CardActions>\n                  {recipe.link && (\n                    <Button\n                      size=\"small\"\n                      endIcon={<OpenInNewIcon />}\n                      component={Link}\n                      href={recipe.link.startsWith('http') ? recipe.link : `https://${recipe.link}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      View Recipe\n                    </Button>\n                  )}\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </Container>\n  );\n};\n\nexport default RecipeSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}