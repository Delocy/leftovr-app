{"ast":null,"code":"import _objectSpread from\"/Users/SG4111/Desktop/me/leftovr-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Box,TextField,IconButton,Typography,CircularProgress,Chip,Button,Dialog,DialogTitle,DialogContent,DialogActions,FormControl,Select,MenuItem,Stack,Avatar}from'@mui/material';import SendIcon from'@mui/icons-material/Send';import PersonIcon from'@mui/icons-material/Person';import RestaurantIcon from'@mui/icons-material/Restaurant';import KitchenIcon from'@mui/icons-material/Kitchen';import SettingsIcon from'@mui/icons-material/Settings';import AddIcon from'@mui/icons-material/Add';import DeleteIcon from'@mui/icons-material/Delete';import{sendMessage,getPantryInventory,addPantryItem,deletePantryItem}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatInterface=()=>{const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const messagesEndRef=useRef(null);const[addItemDialogOpen,setAddItemDialogOpen]=useState(false);const[newItem,setNewItem]=useState({ingredient_name:'',quantity:'',unit:'',expiration_date:''});const[pantryItems,setPantryItems]=useState([]);const[preferences,setPreferences]=useState({skill_level:'intermediate',dietary_restrictions:[],allergies:[]});useEffect(()=>{fetchPantryItems();},[]);useEffect(()=>{scrollToBottom();},[messages]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const fetchPantryItems=async()=>{try{const items=await getPantryInventory();setPantryItems(items||[]);}catch(error){console.error('Error fetching pantry:',error);}};const handleSend=async()=>{if(!input.trim())return;const userMessage={role:'user',content:input};setMessages(prev=>[...prev,userMessage]);setInput('');setLoading(true);try{const response=await sendMessage(input,preferences,pantryItems);const assistantMessage={role:'assistant',content:response.message||'Sorry, I could not process your request.',data:response.data};setMessages(prev=>[...prev,assistantMessage]);}catch(error){console.error('Error sending message:',error);const errorMessage={role:'assistant',content:'Sorry, something went wrong. Please try again.'};setMessages(prev=>[...prev,errorMessage]);}finally{setLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};const handleAddItem=async()=>{try{await addPantryItem(newItem);await fetchPantryItems();setAddItemDialogOpen(false);setNewItem({ingredient_name:'',quantity:'',unit:'',expiration_date:''});}catch(error){console.error('Error adding item:',error);}};const handleDeleteItem=async itemName=>{try{await deletePantryItem(itemName);await fetchPantryItems();}catch(error){console.error('Error deleting item:',error);}};const handlePreferenceChange=(category,value)=>{setPreferences(prev=>{const current=prev[category]||[];const updated=current.includes(value)?current.filter(item=>item!==value):[...current,value];return _objectSpread(_objectSpread({},prev),{},{[category]:updated});});};const isExpiringSoon=expirationDate=>{if(!expirationDate)return false;const today=new Date();const expDate=new Date(expirationDate);const daysUntilExpiry=Math.ceil((expDate-today)/(1000*60*60*24));return daysUntilExpiry<=3&&daysUntilExpiry>=0;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',height:'calc(100vh - 64px)',bgcolor:'#fafafa'},children:[/*#__PURE__*/_jsxs(Box,{sx:{width:280,flexShrink:0,bgcolor:'#ffffff',borderRight:'1px solid #e0e0e0',display:'flex',flexDirection:'column',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(Box,{sx:{p:2.5,borderBottom:'1px solid #f0f0f0'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'13px',fontWeight:600,color:'#37352f',mb:0.5},children:\"Your Kitchen\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',color:'#9b9a97'},children:\"Manage ingredients & preferences\"})]}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,overflow:'auto',p:2},children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:1.5,px:1},children:[/*#__PURE__*/_jsx(SettingsIcon,{sx:{fontSize:16,color:'#9b9a97'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'12px',fontWeight:600,color:'#37352f',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Preferences\"})]}),/*#__PURE__*/_jsxs(Stack,{spacing:1.5,children:[/*#__PURE__*/_jsxs(Box,{sx:{px:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',fontWeight:500,color:'#787774',mb:0.5,display:'block'},children:\"Skill Level\"}),/*#__PURE__*/_jsx(FormControl,{fullWidth:true,size:\"small\",children:/*#__PURE__*/_jsxs(Select,{value:preferences.skill_level,onChange:e=>setPreferences(_objectSpread(_objectSpread({},preferences),{},{skill_level:e.target.value})),sx:{fontSize:'13px',bgcolor:'#f7f6f3','& .MuiOutlinedInput-notchedOutline':{border:'none'},'&:hover':{bgcolor:'#f0eeeb'},borderRadius:1},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"beginner\",sx:{fontSize:'13px'},children:\"Beginner\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"intermediate\",sx:{fontSize:'13px'},children:\"Intermediate\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"advanced\",sx:{fontSize:'13px'},children:\"Advanced\"})]})})]}),/*#__PURE__*/_jsxs(Box,{sx:{px:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',fontWeight:500,color:'#787774',mb:0.5,display:'block'},children:\"Dietary\"}),/*#__PURE__*/_jsx(Stack,{spacing:0.5,children:['vegetarian','vegan','gluten-free','dairy-free'].map(diet=>/*#__PURE__*/_jsxs(Box,{onClick:()=>handlePreferenceChange('dietary_restrictions',diet),sx:{display:'flex',alignItems:'center',gap:1,p:0.75,borderRadius:0.75,cursor:'pointer',bgcolor:preferences.dietary_restrictions.includes(diet)?'#f7f6f3':'transparent','&:hover':{bgcolor:'#f7f6f3'},transition:'background-color 0.15s'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:14,height:14,borderRadius:0.5,border:'1.5px solid',borderColor:preferences.dietary_restrictions.includes(diet)?'#4caf50':'#d1d0ce',bgcolor:preferences.dietary_restrictions.includes(diet)?'#4caf50':'transparent',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.15s'},children:preferences.dietary_restrictions.includes(diet)&&/*#__PURE__*/_jsx(Box,{sx:{width:6,height:3,borderLeft:'1.5px solid white',borderBottom:'1.5px solid white',transform:'rotate(-45deg)',mb:0.3}})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'13px',color:'#37352f'},children:diet.charAt(0).toUpperCase()+diet.slice(1).replace('-',' ')})]},diet))})]}),/*#__PURE__*/_jsxs(Box,{sx:{px:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',fontWeight:500,color:'#787774',mb:0.5,display:'block'},children:\"Allergies\"}),/*#__PURE__*/_jsx(Stack,{spacing:0.5,children:['nuts','shellfish','eggs','soy'].map(allergy=>/*#__PURE__*/_jsxs(Box,{onClick:()=>handlePreferenceChange('allergies',allergy),sx:{display:'flex',alignItems:'center',gap:1,p:0.75,borderRadius:0.75,cursor:'pointer',bgcolor:preferences.allergies.includes(allergy)?'#f7f6f3':'transparent','&:hover':{bgcolor:'#f7f6f3'},transition:'background-color 0.15s'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:14,height:14,borderRadius:0.5,border:'1.5px solid',borderColor:preferences.allergies.includes(allergy)?'#4caf50':'#d1d0ce',bgcolor:preferences.allergies.includes(allergy)?'#4caf50':'transparent',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.15s'},children:preferences.allergies.includes(allergy)&&/*#__PURE__*/_jsx(Box,{sx:{width:6,height:3,borderLeft:'1.5px solid white',borderBottom:'1.5px solid white',transform:'rotate(-45deg)',mb:0.3}})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'13px',color:'#37352f'},children:allergy.charAt(0).toUpperCase()+allergy.slice(1)})]},allergy))})]})]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',mb:1.5,px:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(KitchenIcon,{sx:{fontSize:16,color:'#9b9a97'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'12px',fontWeight:600,color:'#37352f',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Pantry\"})]}),/*#__PURE__*/_jsx(Chip,{label:pantryItems.length,size:\"small\",sx:{height:18,fontSize:'11px',fontWeight:500,bgcolor:'#f7f6f3',color:'#37352f','& .MuiChip-label':{px:1}}})]}),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(AddIcon,{sx:{fontSize:16}}),fullWidth:true,onClick:()=>setAddItemDialogOpen(true),sx:{justifyContent:'flex-start',textTransform:'none',fontSize:'13px',fontWeight:500,color:'#37352f',bgcolor:'transparent',border:'1px dashed #d1d0ce',borderRadius:1,py:0.75,mb:1,'&:hover':{bgcolor:'#f7f6f3',borderColor:'#9b9a97'}},children:\"Add ingredient\"}),pantryItems.length===0?/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',py:3,px:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'12px',color:'#9b9a97'},children:\"No ingredients yet\"})}):/*#__PURE__*/_jsx(Stack,{spacing:0.5,children:pantryItems.map(item=>/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',p:1,borderRadius:0.75,'&:hover':{bgcolor:'#f7f6f3','& .delete-icon':{opacity:1}},transition:'background-color 0.15s'},children:[/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,minWidth:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'13px',color:'#37352f',fontWeight:500,overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:item.ingredient_name}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:0.5,mt:0.25},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{fontSize:'11px',color:'#9b9a97'},children:[item.quantity,\" \",item.unit]}),isExpiringSoon(item.expiration_date)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',color:'#9b9a97'},children:\"\\u2022\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontSize:'11px',color:'#ff9800',fontWeight:500},children:\"Expires soon\"})]})]})]}),/*#__PURE__*/_jsx(IconButton,{className:\"delete-icon\",size:\"small\",onClick:()=>handleDeleteItem(item.ingredient_name),sx:{opacity:0,transition:'opacity 0.15s',width:24,height:24,'&:hover':{bgcolor:'rgba(244, 67, 54, 0.1)'}},children:/*#__PURE__*/_jsx(DeleteIcon,{sx:{fontSize:16,color:'#9b9a97'}})})]},item.ingredient_name))})]})]})})]}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,display:'flex',flexDirection:'column',overflow:'hidden',bgcolor:'#ffffff'},children:[/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,overflow:'auto',display:'flex',flexDirection:'column'},children:messages.length===0?/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',height:'100%',flexDirection:'column',gap:2,color:'#9b9a97'},children:[/*#__PURE__*/_jsx(RestaurantIcon,{sx:{fontSize:48,color:'#d1d0ce'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontSize:'16px',fontWeight:500,color:'#37352f'},children:\"What can I cook for you today?\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontSize:'13px',color:'#9b9a97',textAlign:'center',maxWidth:400},children:\"Ask me for recipe suggestions based on your ingredients, or get help managing your pantry.\"})]}):/*#__PURE__*/_jsx(Box,{sx:{p:4,maxWidth:900,mx:'auto',width:'100%'},children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[messages.map((message,index)=>{var _message$data;return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:message.role==='user'?'#4caf50':'#f7f6f3',color:message.role==='user'?'#ffffff':'#37352f',width:32,height:32,fontSize:'14px',fontWeight:500},children:message.role==='user'?/*#__PURE__*/_jsx(PersonIcon,{sx:{fontSize:18}}):/*#__PURE__*/_jsx(RestaurantIcon,{sx:{fontSize:18}})}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,minWidth:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontSize:'15px',lineHeight:1.6,color:'#37352f',whiteSpace:'pre-wrap',wordBreak:'break-word'},children:message.content}),((_message$data=message.data)===null||_message$data===void 0?void 0:_message$data.top_3_recommendations)&&/*#__PURE__*/_jsx(Box,{sx:{mt:1.5,display:'flex',flexWrap:'wrap',gap:1},children:message.data.top_3_recommendations.map((recipe,idx)=>/*#__PURE__*/_jsx(Chip,{label:recipe.title,size:\"small\",sx:{bgcolor:'#f7f6f3',color:'#37352f',fontSize:'12px',fontWeight:500,border:'1px solid #e0e0e0','&:hover':{bgcolor:'#f0eeeb'}}},idx))})]})]},index);}),loading&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',py:2},children:/*#__PURE__*/_jsx(CircularProgress,{size:20,sx:{color:'#9b9a97'}})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})})}),/*#__PURE__*/_jsx(Box,{sx:{p:3,bgcolor:'#ffffff',borderTop:'1px solid #e0e0e0'},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1.5,maxWidth:900,mx:'auto',alignItems:'flex-end'},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,maxRows:4,placeholder:\"Ask me for recipes or cooking help...\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,disabled:loading,variant:\"outlined\",sx:{'& .MuiOutlinedInput-root':{fontSize:'15px',color:'#37352f',bgcolor:'#ffffff',borderRadius:1.5,'& fieldset':{borderColor:'#e0e0e0'},'&:hover fieldset':{borderColor:'#d1d0ce'},'&.Mui-focused fieldset':{borderColor:'#4caf50',borderWidth:'1px'}},'& .MuiInputBase-input::placeholder':{color:'#9b9a97',opacity:1}}}),/*#__PURE__*/_jsx(IconButton,{onClick:handleSend,disabled:!input.trim()||loading,sx:{bgcolor:input.trim()&&!loading?'#4caf50':'#f7f6f3',color:input.trim()&&!loading?'#ffffff':'#9b9a97',width:36,height:36,'&:hover':{bgcolor:input.trim()&&!loading?'#45a049':'#f0eeeb'},'&:disabled':{bgcolor:'#f7f6f3',color:'#d1d0ce'},transition:'all 0.2s'},children:/*#__PURE__*/_jsx(SendIcon,{sx:{fontSize:18}})})]})})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:addItemDialogOpen,onClose:()=>setAddItemDialogOpen(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'16px',fontWeight:600,color:'#37352f'},children:\"Add Pantry Item\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2,mt:2},children:[/*#__PURE__*/_jsx(TextField,{label:\"Ingredient Name\",value:newItem.ingredient_name,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{ingredient_name:e.target.value})),fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{label:\"Quantity\",type:\"number\",value:newItem.quantity,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{quantity:e.target.value})),fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{label:\"Unit\",value:newItem.unit,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{unit:e.target.value})),placeholder:\"e.g., cups, pieces, grams\",fullWidth:true,size:\"small\"}),/*#__PURE__*/_jsx(TextField,{label:\"Expiration Date\",type:\"date\",value:newItem.expiration_date,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{expiration_date:e.target.value})),InputLabelProps:{shrink:true},fullWidth:true,size:\"small\"})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setAddItemDialogOpen(false),sx:{textTransform:'none',color:'#9b9a97'},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleAddItem,variant:\"contained\",sx:{textTransform:'none',bgcolor:'#4caf50','&:hover':{bgcolor:'#45a049'}},children:\"Add\"})]})]})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","TextField","IconButton","Typography","CircularProgress","Chip","Button","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","Select","MenuItem","Stack","Avatar","SendIcon","PersonIcon","RestaurantIcon","KitchenIcon","SettingsIcon","AddIcon","DeleteIcon","sendMessage","getPantryInventory","addPantryItem","deletePantryItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatInterface","messages","setMessages","input","setInput","loading","setLoading","messagesEndRef","addItemDialogOpen","setAddItemDialogOpen","newItem","setNewItem","ingredient_name","quantity","unit","expiration_date","pantryItems","setPantryItems","preferences","setPreferences","skill_level","dietary_restrictions","allergies","fetchPantryItems","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","items","error","console","handleSend","trim","userMessage","role","content","prev","response","assistantMessage","message","data","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","handleAddItem","handleDeleteItem","itemName","handlePreferenceChange","category","value","updated","includes","filter","item","_objectSpread","isExpiringSoon","expirationDate","today","Date","expDate","daysUntilExpiry","Math","ceil","children","sx","display","height","bgcolor","width","flexShrink","borderRight","flexDirection","overflow","p","borderBottom","variant","fontSize","fontWeight","color","mb","flexGrow","spacing","alignItems","gap","px","textTransform","letterSpacing","fullWidth","size","onChange","target","border","borderRadius","map","diet","onClick","cursor","transition","borderColor","justifyContent","borderLeft","transform","charAt","toUpperCase","slice","replace","allergy","label","length","startIcon","py","textAlign","opacity","minWidth","textOverflow","whiteSpace","mt","className","maxWidth","mx","index","_message$data","lineHeight","wordBreak","top_3_recommendations","flexWrap","recipe","idx","title","ref","borderTop","multiline","maxRows","placeholder","onKeyPress","disabled","borderWidth","open","onClose","type","InputLabelProps","shrink"],"sources":["/Users/SG4111/Desktop/me/leftovr-app/frontend/src/pages/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Box,\n  TextField,\n  IconButton,\n  Typography,\n  CircularProgress,\n  Chip,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  FormControl,\n  Select,\n  MenuItem,\n  Stack,\n  Avatar,\n} from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport PersonIcon from '@mui/icons-material/Person';\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\nimport KitchenIcon from '@mui/icons-material/Kitchen';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { sendMessage, getPantryInventory, addPantryItem, deletePantryItem } from '../services/api';\n\nconst ChatInterface = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const [addItemDialogOpen, setAddItemDialogOpen] = useState(false);\n  const [newItem, setNewItem] = useState({\n    ingredient_name: '',\n    quantity: '',\n    unit: '',\n    expiration_date: '',\n  });\n  const [pantryItems, setPantryItems] = useState([]);\n  const [preferences, setPreferences] = useState({\n    skill_level: 'intermediate',\n    dietary_restrictions: [],\n    allergies: [],\n  });\n\n  useEffect(() => {\n    fetchPantryItems();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const fetchPantryItems = async () => {\n    try {\n      const items = await getPantryInventory();\n      setPantryItems(items || []);\n    } catch (error) {\n      console.error('Error fetching pantry:', error);\n    }\n  };\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    \n    const userMessage = { role: 'user', content: input };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput('');\n    setLoading(true);\n\n    try {\n      const response = await sendMessage(input, preferences, pantryItems);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.message || 'Sorry, I could not process your request.',\n        data: response.data,\n      };\n      setMessages((prev) => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Sorry, something went wrong. Please try again.',\n      };\n      setMessages((prev) => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  \n  const handleAddItem = async () => {\n    try {\n      await addPantryItem(newItem);\n      await fetchPantryItems();\n      setAddItemDialogOpen(false);\n      setNewItem({ ingredient_name: '', quantity: '', unit: '', expiration_date: '' });\n    } catch (error) {\n      console.error('Error adding item:', error);\n    }\n  };\n  \n  const handleDeleteItem = async (itemName) => {\n    try {\n      await deletePantryItem(itemName);\n      await fetchPantryItems();\n    } catch (error) {\n      console.error('Error deleting item:', error);\n    }\n  };\n  \n  const handlePreferenceChange = (category, value) => {\n    setPreferences((prev) => {\n      const current = prev[category] || [];\n      const updated = current.includes(value)\n        ? current.filter((item) => item !== value)\n        : [...current, value];\n      return { ...prev, [category]: updated };\n    });\n  };\n\n  const isExpiringSoon = (expirationDate) => {\n    if (!expirationDate) return false;\n    const today = new Date();\n    const expDate = new Date(expirationDate);\n    const daysUntilExpiry = Math.ceil((expDate - today) / (1000 * 60 * 60 * 24));\n    return daysUntilExpiry <= 3 && daysUntilExpiry >= 0;\n  };\n\n  return (\n    <>\n    <Box sx={{ display: 'flex', height: 'calc(100vh - 64px)', bgcolor: '#fafafa' }}>\n      {/* Left Sidebar - Notion Style */}\n      <Box\n        sx={{\n          width: 280,\n          flexShrink: 0,\n          bgcolor: '#ffffff',\n          borderRight: '1px solid #e0e0e0',\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n        }}\n      >\n        {/* Sidebar Header */}\n        <Box sx={{ p: 2.5, borderBottom: '1px solid #f0f0f0' }}>\n          <Typography variant=\"body2\" sx={{ fontSize: '13px', fontWeight: 600, color: '#37352f', mb: 0.5 }}>\n            Your Kitchen\n          </Typography>\n          <Typography variant=\"caption\" sx={{ fontSize: '11px', color: '#9b9a97' }}>\n            Manage ingredients & preferences\n          </Typography>\n        </Box>\n\n        {/* Scrollable Content */}\n        <Box sx={{ flexGrow: 1, overflow: 'auto', p: 2 }}>\n          <Stack spacing={3}>\n            {/* Preferences Section */}\n            <Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1.5, px: 1 }}>\n                <SettingsIcon sx={{ fontSize: 16, color: '#9b9a97' }} />\n                <Typography variant=\"body2\" sx={{ fontSize: '12px', fontWeight: 600, color: '#37352f', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Preferences\n                </Typography>\n              </Box>\n              \n              <Stack spacing={1.5}>\n                {/* Skill Level */}\n                <Box sx={{ px: 1 }}>\n                  <Typography variant=\"caption\" sx={{ fontSize: '11px', fontWeight: 500, color: '#787774', mb: 0.5, display: 'block' }}>\n                    Skill Level\n                  </Typography>\n                  <FormControl fullWidth size=\"small\">\n                    <Select\n                      value={preferences.skill_level}\n                      onChange={(e) => setPreferences({ ...preferences, skill_level: e.target.value })}\n                      sx={{\n                        fontSize: '13px',\n                        bgcolor: '#f7f6f3',\n                        '& .MuiOutlinedInput-notchedOutline': { border: 'none' },\n                        '&:hover': { bgcolor: '#f0eeeb' },\n                        borderRadius: 1,\n                      }}\n                    >\n                      <MenuItem value=\"beginner\" sx={{ fontSize: '13px' }}>Beginner</MenuItem>\n                      <MenuItem value=\"intermediate\" sx={{ fontSize: '13px' }}>Intermediate</MenuItem>\n                      <MenuItem value=\"advanced\" sx={{ fontSize: '13px' }}>Advanced</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Box>\n                \n                {/* Dietary Restrictions */}\n                <Box sx={{ px: 1 }}>\n                  <Typography variant=\"caption\" sx={{ fontSize: '11px', fontWeight: 500, color: '#787774', mb: 0.5, display: 'block' }}>\n                    Dietary\n                  </Typography>\n                  <Stack spacing={0.5}>\n                    {['vegetarian', 'vegan', 'gluten-free', 'dairy-free'].map((diet) => (\n                      <Box\n                        key={diet}\n                        onClick={() => handlePreferenceChange('dietary_restrictions', diet)}\n                        sx={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: 1,\n                          p: 0.75,\n                          borderRadius: 0.75,\n                          cursor: 'pointer',\n                          bgcolor: preferences.dietary_restrictions.includes(diet) ? '#f7f6f3' : 'transparent',\n                          '&:hover': { bgcolor: '#f7f6f3' },\n                          transition: 'background-color 0.15s',\n                        }}\n                      >\n                        <Box\n                          sx={{\n                            width: 14,\n                            height: 14,\n                            borderRadius: 0.5,\n                            border: '1.5px solid',\n                            borderColor: preferences.dietary_restrictions.includes(diet) ? '#4caf50' : '#d1d0ce',\n                            bgcolor: preferences.dietary_restrictions.includes(diet) ? '#4caf50' : 'transparent',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            transition: 'all 0.15s',\n                          }}\n                        >\n                          {preferences.dietary_restrictions.includes(diet) && (\n                            <Box sx={{ width: 6, height: 3, borderLeft: '1.5px solid white', borderBottom: '1.5px solid white', transform: 'rotate(-45deg)', mb: 0.3 }} />\n                          )}\n                        </Box>\n                        <Typography variant=\"body2\" sx={{ fontSize: '13px', color: '#37352f' }}>\n                          {diet.charAt(0).toUpperCase() + diet.slice(1).replace('-', ' ')}\n                        </Typography>\n                      </Box>\n                    ))}\n                  </Stack>\n                </Box>\n                \n                {/* Allergies */}\n                <Box sx={{ px: 1 }}>\n                  <Typography variant=\"caption\" sx={{ fontSize: '11px', fontWeight: 500, color: '#787774', mb: 0.5, display: 'block' }}>\n                    Allergies\n                  </Typography>\n                  <Stack spacing={0.5}>\n                    {['nuts', 'shellfish', 'eggs', 'soy'].map((allergy) => (\n                      <Box\n                        key={allergy}\n                        onClick={() => handlePreferenceChange('allergies', allergy)}\n                        sx={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: 1,\n                          p: 0.75,\n                          borderRadius: 0.75,\n                          cursor: 'pointer',\n                          bgcolor: preferences.allergies.includes(allergy) ? '#f7f6f3' : 'transparent',\n                          '&:hover': { bgcolor: '#f7f6f3' },\n                          transition: 'background-color 0.15s',\n                        }}\n                      >\n                        <Box\n                          sx={{\n                            width: 14,\n                            height: 14,\n                            borderRadius: 0.5,\n                            border: '1.5px solid',\n                            borderColor: preferences.allergies.includes(allergy) ? '#4caf50' : '#d1d0ce',\n                            bgcolor: preferences.allergies.includes(allergy) ? '#4caf50' : 'transparent',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            transition: 'all 0.15s',\n                          }}\n                        >\n                          {preferences.allergies.includes(allergy) && (\n                            <Box sx={{ width: 6, height: 3, borderLeft: '1.5px solid white', borderBottom: '1.5px solid white', transform: 'rotate(-45deg)', mb: 0.3 }} />\n                          )}\n                        </Box>\n                        <Typography variant=\"body2\" sx={{ fontSize: '13px', color: '#37352f' }}>\n                          {allergy.charAt(0).toUpperCase() + allergy.slice(1)}\n                        </Typography>\n                      </Box>\n                    ))}\n                  </Stack>\n                </Box>\n              </Stack>\n            </Box>\n            \n            {/* Pantry Section */}\n            <Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 1.5, px: 1 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <KitchenIcon sx={{ fontSize: 16, color: '#9b9a97' }} />\n                  <Typography variant=\"body2\" sx={{ fontSize: '12px', fontWeight: 600, color: '#37352f', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                    Pantry\n                  </Typography>\n                </Box>\n                <Chip \n                  label={pantryItems.length} \n                  size=\"small\" \n                  sx={{ \n                    height: 18, \n                    fontSize: '11px', \n                    fontWeight: 500,\n                    bgcolor: '#f7f6f3',\n                    color: '#37352f',\n                    '& .MuiChip-label': { px: 1 }\n                  }} \n                />\n              </Box>\n              \n              <Button\n                startIcon={<AddIcon sx={{ fontSize: 16 }} />}\n                fullWidth\n                onClick={() => setAddItemDialogOpen(true)}\n                sx={{\n                  justifyContent: 'flex-start',\n                  textTransform: 'none',\n                  fontSize: '13px',\n                  fontWeight: 500,\n                  color: '#37352f',\n                  bgcolor: 'transparent',\n                  border: '1px dashed #d1d0ce',\n                  borderRadius: 1,\n                  py: 0.75,\n                  mb: 1,\n                  '&:hover': {\n                    bgcolor: '#f7f6f3',\n                    borderColor: '#9b9a97',\n                  },\n                }}\n              >\n                Add ingredient\n              </Button>\n              \n              {pantryItems.length === 0 ? (\n                <Box sx={{ textAlign: 'center', py: 3, px: 2 }}>\n                  <Typography variant=\"caption\" sx={{ fontSize: '12px', color: '#9b9a97' }}>\n                    No ingredients yet\n                  </Typography>\n                </Box>\n              ) : (\n                <Stack spacing={0.5}>\n                  {pantryItems.map((item) => (\n                    <Box\n                      key={item.ingredient_name}\n                      sx={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        p: 1,\n                        borderRadius: 0.75,\n                        '&:hover': {\n                          bgcolor: '#f7f6f3',\n                          '& .delete-icon': { opacity: 1 },\n                        },\n                        transition: 'background-color 0.15s',\n                      }}\n                    >\n                      <Box sx={{ flexGrow: 1, minWidth: 0 }}>\n                        <Typography \n                          variant=\"body2\" \n                          sx={{ \n                            fontSize: '13px', \n                            color: '#37352f',\n                            fontWeight: 500,\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis',\n                            whiteSpace: 'nowrap',\n                          }}\n                        >\n                          {item.ingredient_name}\n                        </Typography>\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5, mt: 0.25 }}>\n                          <Typography variant=\"caption\" sx={{ fontSize: '11px', color: '#9b9a97' }}>\n                            {item.quantity} {item.unit}\n                          </Typography>\n                          {isExpiringSoon(item.expiration_date) && (\n                            <>\n                              <Typography variant=\"caption\" sx={{ fontSize: '11px', color: '#9b9a97' }}>â€¢</Typography>\n                              <Typography variant=\"caption\" sx={{ fontSize: '11px', color: '#ff9800', fontWeight: 500 }}>\n                                Expires soon\n                              </Typography>\n                            </>\n                          )}\n                        </Box>\n                      </Box>\n                      <IconButton\n                        className=\"delete-icon\"\n                        size=\"small\"\n                        onClick={() => handleDeleteItem(item.ingredient_name)}\n                        sx={{\n                          opacity: 0,\n                          transition: 'opacity 0.15s',\n                          width: 24,\n                          height: 24,\n                          '&:hover': {\n                            bgcolor: 'rgba(244, 67, 54, 0.1)',\n                          },\n                        }}\n                      >\n                        <DeleteIcon sx={{ fontSize: 16, color: '#9b9a97' }} />\n                      </IconButton>\n                    </Box>\n                  ))}\n                </Stack>\n              )}\n            </Box>\n          </Stack>\n        </Box>\n      </Box>\n\n      {/* Main Chat Area */}\n      <Box\n        sx={{\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n          bgcolor: '#ffffff',\n        }}\n      >\n        {/* Messages Area */}\n        <Box\n          sx={{\n            flexGrow: 1,\n            overflow: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          {messages.length === 0 ? (\n            <Box sx={{ \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'center', \n              height: '100%',\n              flexDirection: 'column',\n              gap: 2,\n              color: '#9b9a97',\n            }}>\n              <RestaurantIcon sx={{ fontSize: 48, color: '#d1d0ce' }} />\n              <Typography variant=\"h6\" sx={{ fontSize: '16px', fontWeight: 500, color: '#37352f' }}>\n                What can I cook for you today?\n              </Typography>\n              <Typography variant=\"body2\" sx={{ fontSize: '13px', color: '#9b9a97', textAlign: 'center', maxWidth: 400 }}>\n                Ask me for recipe suggestions based on your ingredients, or get help managing your pantry.\n              </Typography>\n            </Box>\n          ) : (\n            <Box sx={{ p: 4, maxWidth: 900, mx: 'auto', width: '100%' }}>\n              <Stack spacing={3}>\n                {messages.map((message, index) => (\n                  <Box\n                    key={index}\n                    sx={{\n                      display: 'flex',\n                      gap: 2,\n                      alignItems: 'flex-start',\n                    }}\n                  >\n                    <Avatar\n                      sx={{\n                        bgcolor: message.role === 'user' ? '#4caf50' : '#f7f6f3',\n                        color: message.role === 'user' ? '#ffffff' : '#37352f',\n                        width: 32,\n                        height: 32,\n                        fontSize: '14px',\n                        fontWeight: 500,\n                      }}\n                    >\n                      {message.role === 'user' ? <PersonIcon sx={{ fontSize: 18 }} /> : <RestaurantIcon sx={{ fontSize: 18 }} />}\n                    </Avatar>\n                    <Box sx={{ flexGrow: 1, minWidth: 0 }}>\n                      <Typography \n                        variant=\"body1\" \n                        sx={{ \n                          fontSize: '15px', \n                          lineHeight: 1.6,\n                          color: '#37352f',\n                          whiteSpace: 'pre-wrap',\n                          wordBreak: 'break-word',\n                        }}\n                      >\n                        {message.content}\n                      </Typography>\n                      \n                      {/* Display recipe recommendations if available */}\n                      {message.data?.top_3_recommendations && (\n                        <Box sx={{ mt: 1.5, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                          {message.data.top_3_recommendations.map((recipe, idx) => (\n                            <Chip\n                              key={idx}\n                              label={recipe.title}\n                              size=\"small\"\n                              sx={{\n                                bgcolor: '#f7f6f3',\n                                color: '#37352f',\n                                fontSize: '12px',\n                                fontWeight: 500,\n                                border: '1px solid #e0e0e0',\n                                '&:hover': { bgcolor: '#f0eeeb' },\n                              }}\n                            />\n                          ))}\n                        </Box>\n                      )}\n                    </Box>\n                  </Box>\n                ))}\n                {loading && (\n                  <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\n                    <CircularProgress size={20} sx={{ color: '#9b9a97' }} />\n                  </Box>\n                )}\n                <div ref={messagesEndRef} />\n              </Stack>\n            </Box>\n          )}\n        </Box>\n\n        {/* Input Area */}\n        <Box\n          sx={{\n            p: 3,\n            bgcolor: '#ffffff',\n            borderTop: '1px solid #e0e0e0',\n          }}\n        >\n          <Box sx={{ display: 'flex', gap: 1.5, maxWidth: 900, mx: 'auto', alignItems: 'flex-end' }}>\n            <TextField\n              fullWidth\n              multiline\n              maxRows={4}\n              placeholder=\"Ask me for recipes or cooking help...\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyPress={handleKeyPress}\n              disabled={loading}\n              variant=\"outlined\"\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  fontSize: '15px',\n                  color: '#37352f',\n                  bgcolor: '#ffffff',\n                  borderRadius: 1.5,\n                  '& fieldset': {\n                    borderColor: '#e0e0e0',\n                  },\n                  '&:hover fieldset': {\n                    borderColor: '#d1d0ce',\n                  },\n                  '&.Mui-focused fieldset': {\n                    borderColor: '#4caf50',\n                    borderWidth: '1px',\n                  },\n                },\n                '& .MuiInputBase-input::placeholder': {\n                  color: '#9b9a97',\n                  opacity: 1,\n                },\n              }}\n            />\n            <IconButton\n              onClick={handleSend}\n              disabled={!input.trim() || loading}\n              sx={{\n                bgcolor: (input.trim() && !loading) ? '#4caf50' : '#f7f6f3',\n                color: (input.trim() && !loading) ? '#ffffff' : '#9b9a97',\n                width: 36,\n                height: 36,\n                '&:hover': {\n                  bgcolor: (input.trim() && !loading) ? '#45a049' : '#f0eeeb',\n                },\n                '&:disabled': {\n                  bgcolor: '#f7f6f3',\n                  color: '#d1d0ce',\n                },\n                transition: 'all 0.2s',\n              }}\n            >\n              <SendIcon sx={{ fontSize: 18 }} />\n            </IconButton>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n\n    {/* Add Item Dialog */}\n    <Dialog open={addItemDialogOpen} onClose={() => setAddItemDialogOpen(false)} maxWidth=\"sm\" fullWidth>\n      <DialogTitle sx={{ fontSize: '16px', fontWeight: 600, color: '#37352f' }}>Add Pantry Item</DialogTitle>\n      <DialogContent>\n        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 2 }}>\n          <TextField\n            label=\"Ingredient Name\"\n            value={newItem.ingredient_name}\n            onChange={(e) => setNewItem({ ...newItem, ingredient_name: e.target.value })}\n            fullWidth\n            size=\"small\"\n          />\n          <TextField\n            label=\"Quantity\"\n            type=\"number\"\n            value={newItem.quantity}\n            onChange={(e) => setNewItem({ ...newItem, quantity: e.target.value })}\n            fullWidth\n            size=\"small\"\n          />\n          <TextField\n            label=\"Unit\"\n            value={newItem.unit}\n            onChange={(e) => setNewItem({ ...newItem, unit: e.target.value })}\n            placeholder=\"e.g., cups, pieces, grams\"\n            fullWidth\n            size=\"small\"\n          />\n          <TextField\n            label=\"Expiration Date\"\n            type=\"date\"\n            value={newItem.expiration_date}\n            onChange={(e) => setNewItem({ ...newItem, expiration_date: e.target.value })}\n            InputLabelProps={{ shrink: true }}\n            fullWidth\n            size=\"small\"\n          />\n        </Box>\n      </DialogContent>\n      <DialogActions sx={{ p: 2 }}>\n        <Button onClick={() => setAddItemDialogOpen(false)} sx={{ textTransform: 'none', color: '#9b9a97' }}>\n          Cancel\n        </Button>\n        <Button \n          onClick={handleAddItem} \n          variant=\"contained\" \n          sx={{ \n            textTransform: 'none',\n            bgcolor: '#4caf50',\n            '&:hover': { bgcolor: '#45a049' },\n          }}\n        >\n          Add\n        </Button>\n      </DialogActions>\n    </Dialog>\n    </>\n  );\n};\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}